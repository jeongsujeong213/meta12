<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      // 1. 쇼핑몰 부가세 계산 (유지보수 향상)
      // 아래 코드는 모든 상품에 거의 동일한 코드가 계속해서 반복되고 있음. 수정사항 발생 시 모든 코드를 찾아서 수정해야 하는 단점이 있음. → 비효율적
      let price1 = 1000000;
      let tex1 = price1 * 0.1;
      let total1 = price1 + tex1;
      console.log("노트북 최종가: " + total1);

      let price2 = 50000;
      let tex2 = price2 * 0.1;
      let total2 = price2 + tex1;
      console.log("마우스 최종가: " + total2);

      let price3 = 150000;
      let tex3 = price3 * 0.1;
      let total3 = price3 + tex1;
      console.log("기계식 키보드 최종가: " + total3);
      // 함수로 해결
      // 함수 선언 (애로우함수)
      const calculateTotal = (price) => {
        const tax = price * 0.1;
        return price + tax;
      };
      // 함수 호출
      console.log("노트북 최종가: " + calculateTotal(1000000));
      console.log("마우스 최종가: " + calculateTotal(50000));
      console.log("기계식 키보드 최종가: " + calculateTotal(150000));

      // 2. 회원가입 환영 이메일 템플릿
      // 비효율 코드
      let user1 = "김철수";
      console.log(
        user1 +
          "님, 회원가입을 축하합니다. 저희 서비스 이용약관을 확인해 주세요.",
      );
      let user2 = "이영희";
      console.log(
        user2 +
          "님, 회원가입을 축하합니다. 저희 서비스 이용약관을 확인해 주세요.",
      );
      let user3 = "박지성";
      console.log(
        user3 +
          "님, 회원가입을 축하합니다. 저희 서비스 이용약관을 확인해 주세요.",
      );

      // 함수를 이용하여 깔끔한 코드를 작성할 수 있음.
      const getWelcomeMail = (userName, welcomeMsg) => {
        return userName + welcomeMsg;
      };
      // 선택 옵션
      const welcomeMsg =
        "님, 회원가입을 축하합니다. 저희 서비스 이용약관을 확인해 주세요."; // 전역 변수이기 때문에 모든 페이지에서 다 읽을 수 있음. 굳이 전달해 주지 않아도 출력이 가능.
      console.log(getWelcomeMail("김철수", welcomeMsg));
      console.log(getWelcomeMail("이영희", welcomeMsg));
      console.log(getWelcomeMail("박지성", welcomeMsg));

      // 3. 비밀번호 유효성 검사
      // 비효율 코드
      let inputPw1 = "1234";
      if (inputPw1.length >= 8) {
        console.log("사용 가능한 비밀번호입니다.");
      } else {
        console.log("비밀번호는 8자리 이상이어야 합니다.");
      }
      // ~~~ 수백 줄의 다른 실행코드가 있다고 가정 ~~~

      // 유저가 비밀번호 변경 시도
      // 위에서 수행했던 검사 코드를 아래에 또 적어야 하는 문제 발생
      let inputPw2 = "password1234";
      if (inputPw2.length >= 8) {
        console.log("사용 가능한 비밀번호입니다.");
      } else {
        console.log("비밀번호는 8자리 이상이어야 합니다.");
      }

      // 함수로 해결!
      const isValidPassword = (password) => {
        if (password.length >= 8) {
          return "사용 가능한 비밀번호입니다.";
        } else {
          return "비밀번호는 8자리 이상이어야 합니다.";
        }
      };
      // 패스워드를 검사해야 하는 모든 곳에서 isValidPassword() 함수를 호출하면 됨.
      // 함수의 재사용성!!
    </script>
  </body>
</html>
